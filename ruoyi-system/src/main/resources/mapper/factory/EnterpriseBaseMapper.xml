<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.factory.mapper.EnterpriseBaseMapper">
    
    <resultMap type="EnterpriseBase" id="EnterpriseBaseResult">
        <result property="id"    column="id"    />
        <result property="entCode"    column="ent_code"    />
        <result property="creditCode"    column="credit_code"    />
        <result property="entName"    column="ent_name"    />
        <result property="legalPerson"    column="legal_person"    />
        <result property="legalPhone"    column="legal_phone"    />
        <result property="linkerMan"    column="linker_man"    />
        <result property="linkerPhone"    column="linker_phone"    />
        <result property="workPhone"    column="work_phone"    />
        <result property="entAddress"    column="ent_address"    />
        <result property="license"    column="license"    />
        <result property="licensePic"    column="license_pic"    />
        <result property="remark"    column="remark"    />
        <result property="busScope"    column="bus_scope"    />
        <result property="status"    column="status"    />
        <result property="delFlag"    column="del_flag"    />
        <result property="createBy"    column="create_by"    />
        <result property="createTime"    column="create_time"    />
        <result property="updateBy"    column="update_by"    />
        <result property="updateTime"    column="update_time"    />
    </resultMap>

    <sql id="selectEnterpriseBaseVo">
        select id, ent_code, credit_code, ent_name, legal_person, legal_phone, linker_man, linker_phone, work_phone, ent_address, license, license_pic, remark, bus_scope, status, del_flag, create_by, create_time, update_by, update_time from enterprise_base
    </sql>

    <select id="selectEnterpriseBaseList" parameterType="EnterpriseBase" resultMap="EnterpriseBaseResult">
        <include refid="selectEnterpriseBaseVo"/>
        <where>  
            <if test="entCode != null  and entCode != ''"> and ent_code = #{entCode}</if>
            <if test="creditCode != null  and creditCode != ''"> and credit_code = #{creditCode}</if>
            <if test="entName != null  and entName != ''"> and ent_name like concat('%', #{entName}, '%')</if>
            <if test="legalPerson != null  and legalPerson != ''"> and legal_person = #{legalPerson}</if>
            <if test="legalPhone != null  and legalPhone != ''"> and legal_phone = #{legalPhone}</if>
            <if test="linkerMan != null  and linkerMan != ''"> and linker_man = #{linkerMan}</if>
            <if test="linkerPhone != null  and linkerPhone != ''"> and linker_phone = #{linkerPhone}</if>
            <if test="workPhone != null  and workPhone != ''"> and work_phone = #{workPhone}</if>
            <if test="entAddress != null  and entAddress != ''"> and ent_address = #{entAddress}</if>
            <if test="license != null  and license != ''"> and license = #{license}</if>
            <if test="licensePic != null  and licensePic != ''"> and license_pic = #{licensePic}</if>
            <if test="busScope != null  and busScope != ''"> and bus_scope = #{busScope}</if>
            <if test="status != null  and status != ''"> and status = #{status}</if>
        </where>
    </select>
    
    <select id="selectEnterpriseBaseById" parameterType="Long" resultMap="EnterpriseBaseResult">
        <include refid="selectEnterpriseBaseVo"/>
        where id = #{id}
    </select>
        
    <insert id="insertEnterpriseBase" parameterType="EnterpriseBase" useGeneratedKeys="true" keyProperty="id">
        insert into enterprise_base
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="entCode != null">ent_code,</if>
            <if test="creditCode != null">credit_code,</if>
            <if test="entName != null and entName != ''">ent_name,</if>
            <if test="legalPerson != null">legal_person,</if>
            <if test="legalPhone != null">legal_phone,</if>
            <if test="linkerMan != null">linker_man,</if>
            <if test="linkerPhone != null">linker_phone,</if>
            <if test="workPhone != null">work_phone,</if>
            <if test="entAddress != null">ent_address,</if>
            <if test="license != null">license,</if>
            <if test="licensePic != null">license_pic,</if>
            <if test="remark != null">remark,</if>
            <if test="busScope != null">bus_scope,</if>
            <if test="status != null">status,</if>
            <if test="delFlag != null and delFlag != ''">del_flag,</if>
            <if test="createBy != null">create_by,</if>
            <if test="createTime != null">create_time,</if>
            <if test="updateBy != null">update_by,</if>
            <if test="updateTime != null">update_time,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="entCode != null">#{entCode},</if>
            <if test="creditCode != null">#{creditCode},</if>
            <if test="entName != null and entName != ''">#{entName},</if>
            <if test="legalPerson != null">#{legalPerson},</if>
            <if test="legalPhone != null">#{legalPhone},</if>
            <if test="linkerMan != null">#{linkerMan},</if>
            <if test="linkerPhone != null">#{linkerPhone},</if>
            <if test="workPhone != null">#{workPhone},</if>
            <if test="entAddress != null">#{entAddress},</if>
            <if test="license != null">#{license},</if>
            <if test="licensePic != null">#{licensePic},</if>
            <if test="remark != null">#{remark},</if>
            <if test="busScope != null">#{busScope},</if>
            <if test="status != null">#{status},</if>
            <if test="delFlag != null and delFlag != ''">#{delFlag},</if>
            <if test="createBy != null">#{createBy},</if>
            <if test="createTime != null">#{createTime},</if>
            <if test="updateBy != null">#{updateBy},</if>
            <if test="updateTime != null">#{updateTime},</if>
         </trim>
    </insert>

    <update id="updateEnterpriseBase" parameterType="EnterpriseBase">
        update enterprise_base
        <trim prefix="SET" suffixOverrides=",">
            <if test="entCode != null">ent_code = #{entCode},</if>
            <if test="creditCode != null">credit_code = #{creditCode},</if>
            <if test="entName != null and entName != ''">ent_name = #{entName},</if>
            <if test="legalPerson != null">legal_person = #{legalPerson},</if>
            <if test="legalPhone != null">legal_phone = #{legalPhone},</if>
            <if test="linkerMan != null">linker_man = #{linkerMan},</if>
            <if test="linkerPhone != null">linker_phone = #{linkerPhone},</if>
            <if test="workPhone != null">work_phone = #{workPhone},</if>
            <if test="entAddress != null">ent_address = #{entAddress},</if>
            <if test="license != null">license = #{license},</if>
            <if test="licensePic != null">license_pic = #{licensePic},</if>
            <if test="remark != null">remark = #{remark},</if>
            <if test="busScope != null">bus_scope = #{busScope},</if>
            <if test="status != null">status = #{status},</if>
            <if test="delFlag != null and delFlag != ''">del_flag = #{delFlag},</if>
            <if test="createBy != null">create_by = #{createBy},</if>
            <if test="createTime != null">create_time = #{createTime},</if>
            <if test="updateBy != null">update_by = #{updateBy},</if>
            <if test="updateTime != null">update_time = #{updateTime},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteEnterpriseBaseById" parameterType="Long">
        delete from enterprise_base where id = #{id}
    </delete>

    <delete id="deleteEnterpriseBaseByIds" parameterType="String">
        delete from enterprise_base where id in 
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>